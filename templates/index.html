<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>SpotWelding â€“ Web AI Demo</title>
  <style>
    body { font-family: sans-serif; background:#0f1115; color:#e5e7eb; margin:0; padding:24px; }
    .container { max-width: 980px; margin: 0 auto; display:grid; gap:20px; grid-template-columns: 1fr 1fr; }
    .card { background:#151922; border:1px solid #232838; border-radius:16px; padding:16px; }
    h1 { margin-top:0; font-size:24px; }
    label { display:block; font-size:12px; color:#9aa4b2; margin-bottom:6px; }
    input { width:100%; border-radius:10px; border:1px solid #2a3142; background:#0f131b; color:#e5e7eb; padding:10px 12px; margin-bottom:10px; }
    button { padding:10px 14px; border-radius:10px; border:0; background:#2563eb; color:white; cursor:pointer; }
    button.secondary { background:#374151; }
    .video-wrap { position:relative; border-radius:16px; overflow:hidden; }
    #overlay { position:absolute; left:10px; top:10px; background:rgba(0,0,0,0.55); padding:8px 10px; border-radius:10px; font-weight:600; }
    #video { width:100%; height:auto; display:block; background:#000; }
    .row { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    .full { grid-column: 1 / -1; }
    #status { font-size:12px; color:#9aa4b2; }
    footer { text-align:center; margin-top: 12px; font-size: 12px; color:#6b7280; }
  </style>
</head>
<body>
  <h1>Ø¯Ù…ÙˆÛŒ ÙˆØ¨ Ø§Ù¾ ØªØ´Ø®ÛŒØµ Ú©ÛŒÙÛŒØª Ù†Ù‚Ø·Ù‡â€ŒØ¬ÙˆØ´</h1>
  <div class="container">
    <div class="card">
      <div class="video-wrap">
        <div id="overlay">Ù†ØªÛŒØ¬Ù‡: - | Ø¯Ù‚Øª: -</div>
        <video id="video" autoplay playsinline muted></video>
      </div>
      <div style="margin-top:10px; display:flex; gap:8px;">
        <button id="btn-capture">ğŸ“¸ Ø¹Ú©Ø³ Ùˆ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ</button>
        <button class="secondary" id="btn-stop">â¹ Ù‚Ø·Ø¹ Ø¯ÙˆØ±Ø¨ÛŒÙ†</button>
      </div>
      <p id="status">ÙˆØ¶Ø¹ÛŒØª: Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø§Ø¬Ø§Ø²Ù‡â€ŒÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯ÙˆØ±Ø¨ÛŒÙ†â€¦</p>
      <canvas id="canvas" style="display:none;"></canvas>
    </div>

    <div class="card">
      <div class="row">
        <div><label>Pressure (PSI)</label><input id="n1" inputmode="decimal" placeholder="Ù…Ø«Ù„Ø§Ù‹ 1200"></div>
        <div><label>Welding Time (ms)</label><input id="n2" inputmode="decimal" placeholder="Ù…Ø«Ù„Ø§Ù‹ 250"></div>
        <div><label>Angle (Deg)</label><input id="n3" inputmode="decimal" placeholder="Ù…Ø«Ù„Ø§Ù‹ 45"></div>
        <div><label>Thickness A (mm)</label><input id="n4" inputmode="decimal" placeholder="Ù…Ø«Ù„Ø§Ù‹ 1.2"></div>
        <div><label>Thickness B (mm)</label><input id="n5" inputmode="decimal" placeholder="Ù…Ø«Ù„Ø§Ù‹ 1.0"></div>
        <div><label>Material</label><input id="n6" inputmode="decimal" placeholder="Ú©ÙØ¯ Ø¹Ø¯Ø¯ÛŒ Ù…Ø§Ø¯Ù‡"></div>
        <div><label>Force (N)</label><input id="n7" inputmode="decimal" placeholder="Ù…Ø«Ù„Ø§Ù‹ 3000"></div>
        <div><label>Current (A)</label><input id="n8" inputmode="decimal" placeholder="Ù…Ø«Ù„Ø§Ù‹ 8000"></div>
        <div class="full"><button id="btn-predict">ğŸš€ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¨Ø§ Ù‡Ù…Ø§Ù† ÙØ±ÛŒÙ… Ø¬Ø§Ø±ÛŒ</button></div>
      </div>
      <p style="margin-top:8px;">Ø±Ø§Ù‡Ù†Ù…Ø§: Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø®Ø§Ø±Ø¬ Ø§Ø² <code>localhost</code> Ø¨Ø§ÛŒØ¯ Ø³Ø§ÛŒØª Ø´Ù…Ø§ <b>HTTPS</b> Ø¨Ø§Ø´Ø¯ ØªØ§ Ù…Ø±ÙˆØ±Ú¯Ø± Ø§Ø¬Ø§Ø²Ù‡â€ŒÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¨Ø¯Ù‡Ø¯.</p>
    </div>
  </div>
  <footer>Â© Web demo â€“ SpotWelding</footer>
  <script>
    window.MODEL_W = {{ imgw|tojson }};
    window.MODEL_H = {{ imgh|tojson }};
    window.CLASS_LABELS = {{ labels|tojson }};
  </script>
  <script src="/static/script.js"></script>
</body>
</html>